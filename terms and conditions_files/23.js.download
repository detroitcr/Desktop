(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{ezbJ:function(e,t,n){e.exports=n.p+"files/6f454f13521685cf379a0107acaa2545/background.mp4"},w2B9:function(e,t,n){"use strict";n.r(t),n.d(t,"TourModal",function(){return N});var r=n("mrSG"),a=n("ERkP"),o=n("oZTP"),i=n("ePPH"),s=n("RCFH"),p=n("XaD9"),c=n("lqtc"),l=n("FTyx"),u=n("a+T5"),d=n("w9t/"),m=n("n3Ao"),v=n("D0sy"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t}(l.a),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype._mapStateToClass=function(e){if(!e){var t={start:"",end:""};return{prev:t,next:t}}return{prev:{start:"",end:v.contentHidden},next:{start:v.contentHidden,end:""}}},t.prototype.render=function(){return a.createElement(f,{state:this.props.step,stateToClassMapper:this._mapStateToClass},function(e){return a.createElement(o.F.div,r.a({key:e.state.stepId,onTransitionEnd:"prev"===e.type?e.done:d.O},Object(o.classes)(e.state.type===c.a.Type.LARGE?v.contentLarge:v.contentSmall,e.view)),e.state.content)})},t}(a.Component),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype._mapStateToClass=function(e,t){var n,r;return e&&e.type!==c.a.Type.SMALL&&t.type!==c.a.Type.SMALL?t.index>e.index?(n=v.descriptionLeft,r=v.descriptionRight):(n=v.descriptionRight,r=v.descriptionLeft):(n=v.description,r=v.description),{prev:{start:v.description,end:n},next:{start:r,end:v.description}}},t.prototype.render=function(){return a.createElement(f,{state:this.props.step,stateToClassMapper:this._mapStateToClass},function(e){var t=e.state,n=e.view;switch(t.type){case c.a.Type.LARGE:return a.createElement(o.F.div,{key:t.stepId,className:n},t.description);case c.a.Type.SMALL:return null;default:return Object(d.C)(t)}})},t}(a.Component),N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._buttonClasses=t.props.tourViewModel.currentStep.view(d.s.mapOrDefault(function(e){switch(e.navigationControl){case c.a.NavigationControlDisplay.HIDE_BOTH:return{prev:v.btnHidden,next:v.btnHidden};case c.a.NavigationControlDisplay.HIDE_PREV:return{prev:v.btnHidden,next:v.btn};case c.a.NavigationControlDisplay.HIDE_NEXT:return{prev:v.btn,next:v.btnHidden};case c.a.NavigationControlDisplay.SHOW_ALL:return{prev:v.btn,next:v.btn};default:return Object(d.C)(e.navigationControl)}},{prev:v.btnHidden,next:v.btnHidden})),t._stepValue=t.props.tourViewModel.currentStep.switchMap(m.r.toOptionValueOnly),t._descriptionNavigation=t.props.tourViewModel.descriptionMeta.view(d.s.mapOrDefault(function(e){var t=e.totalSteps,n=e.index;return d.a.mapNTimes(t,function(e){return a.createElement("i",{key:"step-"+e,className:e===n?v.circleActive:v.circle})})},null)),t}return r.c(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.tourViewModel.currentStep.filter(function(e){return e.nonEmpty()}).first().subscribe(function(){return e.context.gnarSpec.welcomeTourPopupShow(e.context.pageId,e.props.tourViewModel.type)}),requestAnimationFrame(function(){return requestAnimationFrame(function(){e.props.tourViewModel.start()})})},t.prototype.render=function(){var e=this.props.tourViewModel,t=e.currentStep,r=e.goToNext,p=e.goToPrev;return a.createElement(s.b,{preventClose:!0,visible:t.view(function(e){return e.nonEmpty()}),animate:!0},a.createElement(o.F.div,{className:t.takeWhile(function(e){return e.nonEmpty()}).map(d.s.mapOrDefault(function(e){return e.type===c.a.Type.SMALL?v.tourWrapperShrinked:v.tourWrapper},void 0))},a.createElement(s.a,{className:v.tour},a.createElement("div",{className:v.tourBody},a.createElement("video",{className:v.videoBg,poster:n("cppq"),autoPlay:!0,muted:!0,loop:!0,src:n("ezbJ")}),a.createElement("div",{className:v.descriptionWrapper},a.createElement(E,{step:this._stepValue}),a.createElement("div",{className:v.navigationContainer},a.createElement("div",{className:v.navNextBtnWrapper},a.createElement(u.a,{className:v.navNextBtn,onClick:r,name:"next-tour-step-description"},"Next")),a.createElement(o.F.div,{className:v.stepCircles},this._descriptionNavigation))),a.createElement(y,{step:this._stepValue}))),a.createElement("div",{className:v.prevBtnWrapper},a.createElement("div",{className:v.roundBtnWrapper},a.createElement(i.b,{animationMode:i.a.FromCenter,name:"prev-tour-step",className:this._buttonClasses.view("prev"),onClick:p},a.createElement("div",{className:v.arrow},"←")))),a.createElement("div",{className:v.nextBtnWrapper},a.createElement("div",{className:v.roundBtnWrapper},a.createElement(i.b,{animationMode:i.a.FromCenter,name:"next-tour-step",className:this._buttonClasses.view("next"),onClick:r},a.createElement("div",{className:v.arrow},"→"))))))},t.contextType=p.a.Context,t}(a.Component)}}]);